<div class="form-container mat-elevation-z2">
  <h2>üì¶ Cadastro de Entrega</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- Nome do Cliente -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nome do Cliente</mat-label>
      <input
        matInput
        placeholder="Digite o nome do cliente"
        formControlName="cliente"
        required
      />
      <mat-error *ngIf="form.get('cliente')?.hasError('required')">
        O nome do cliente √© obrigat√≥rio.
      </mat-error>
    </mat-form-field>

    <!-- CEP + Busca endere√ßo -->
    <div class="cep-container">
      <mat-form-field appearance="outline">
        <mat-label>CEP</mat-label>
        <input
          matInput
          placeholder="00000-000"
          formControlName="cep"
          mask="00000-000"
        />
        <mat-error *ngIf="form.get('cep')?.invalid && form.get('cep')?.touched">
          CEP inv√°lido
        </mat-error>
      </mat-form-field>
      <button
        mat-stroked-button
        color="primary"
        type="button"
        (click)="buscarEnderecoPorCep()"
      >
        Buscar Endere√ßo
      </button>
    </div>

    <!-- Endere√ßo -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Endere√ßo de Entrega</mat-label>
      <input
        matInput
        placeholder="Rua, Bairro, Cidade - UF"
        formControlName="endereco"
        required
      />
      <mat-error *ngIf="form.get('endereco')?.hasError('required')">
        O endere√ßo √© obrigat√≥rio.
      </mat-error>
    </mat-form-field>

    <!-- Data Estimada de Entrega -->
    <mat-form-field appearance="outline">
      <mat-label>Data Estimada de Entrega</mat-label>
      <input
        matInput
        [matDatepicker]="picker"
        formControlName="dataEstimada"
        placeholder="dd/mm/aaaa"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <!-- Produto -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Produto</mat-label>
      <input
        matInput
        placeholder="Nome do produto"
        formControlName="produto"
        required
      />
      <mat-error *ngIf="form.get('produto')?.hasError('required')">
        O produto √© obrigat√≥rio.
      </mat-error>
    </mat-form-field>

    <!-- Observa√ß√µes -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Observa√ß√µes</mat-label>
      <textarea
        matInput
        placeholder="Observa√ß√µes"
        formControlName="observacoes"
      ></textarea>
    </mat-form-field>

    <!-- Bot√µes -->
    <div class="actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="form.invalid"
      >
        Salvar
      </button>
      <button mat-stroked-button type="button" routerLink="/entregas">
        Cancelar
      </button>
    </div>
  </form>
</div>
